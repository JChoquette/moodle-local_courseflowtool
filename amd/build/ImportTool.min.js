define("local_courseflowtool/ImportTool",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=_ref=>{let{sesskey:sesskey,courseid:courseid,json_process_error:json_process_error}=_ref;document.getElementById("import-button").addEventListener("click",(function(){var _document$getElementB;let jsonData=document.getElementById("json-input").value,useStyle=null!==(_document$getElementB=document.getElementById("courseflow-style").checked)&&void 0!==_document$getElementB&&_document$getElementB;fetch("process_json.php?courseid=".concat(courseid,"&sesskey=").concat(sesskey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({json:jsonData,usestyle:useStyle})}).then((response=>response.json())).then((data=>{document.getElementById("response").innerHTML=data.message,data.redirect&&window.location.replace(data.redirect)})).catch((error=>{document.getElementById("response").innerHTML=json_process_error}))})),document.getElementById("url-import-button").addEventListener("click",(function(){var _document$getElementB2;let useStyle=null!==(_document$getElementB2=document.getElementById("courseflow-style").checked)&&void 0!==_document$getElementB2&&_document$getElementB2,urlInput=document.getElementById("courseflow-url"),importurl=(null==urlInput?void 0:urlInput.value)||"";fetch("process_json.php?courseid=".concat(courseid,"&sesskey=").concat(sesskey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usestyle:useStyle,importurl:importurl})}).then((response=>(console.log(response.text()),response.json()))).then((data=>{document.getElementById("response").innerHTML=data.message,data.redirect&&window.location.replace(data.redirect)})).catch((error=>{document.getElementById("response").innerHTML=json_process_error}))}))}}));

//# sourceMappingURL=ImportTool.min.js.map